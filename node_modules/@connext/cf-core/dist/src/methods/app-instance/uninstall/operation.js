"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const machine_1 = require("../../../machine");
async function uninstallAppInstanceFromChannel(store, protocolRunner, initiatorXpub, responderXpub, appInstanceId) {
    const stateChannel = await store.getChannelFromAppInstanceID(appInstanceId);
    const appInstance = stateChannel.getAppInstance(appInstanceId);
    await protocolRunner.initiateProtocol(machine_1.Protocol.Uninstall, await store.getStateChannelsMap(), {
        initiatorXpub,
        responderXpub,
        multisigAddress: stateChannel.multisigAddress,
        appIdentityHash: appInstance.identityHash
    });
}
exports.uninstallAppInstanceFromChannel = uninstallAppInstanceFromChannel;
//# sourceMappingURL=operation.js.map