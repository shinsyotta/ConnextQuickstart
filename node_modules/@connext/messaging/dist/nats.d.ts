import { CFCoreTypes } from "@connext/types";
import * as nats from "ts-nats";
import { IMessagingService, MessagingConfig } from "./types";
export declare class NatsMessagingService implements IMessagingService {
    private readonly config;
    private readonly messagingServiceKey;
    private connection;
    private log;
    private subscriptions;
    constructor(config: MessagingConfig, messagingServiceKey: string);
    connect(): Promise<void>;
    disconnect(): Promise<void>;
    onReceive(subject: string, callback: (msg: CFCoreTypes.NodeMessage) => void): Promise<void>;
    send(to: string, msg: CFCoreTypes.NodeMessage): Promise<void>;
    publish(subject: string, data: any): Promise<void>;
    request(subject: string, timeout: number, data?: object): Promise<nats.Msg | void>;
    subscribe(subject: string, callback: (msg: CFCoreTypes.NodeMessage) => void): Promise<void>;
    unsubscribe(subject: string): Promise<void>;
    flush(): Promise<void>;
    private prependKey;
    private assertConnected;
}
//# sourceMappingURL=nats.d.ts.map