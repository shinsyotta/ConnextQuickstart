"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const controller_1 = require("./controller");
class Router {
    constructor({ controllers }) {
        this.controllers = controllers;
    }
    async dispatch(rpc) {
        const controller = Object.values(controller_1.default.rpcMethods).find(mapping => mapping.method === rpc.methodName);
        if (!controller) {
            console.warn(`Cannot execute ${rpc.methodName}: no controller`);
            return;
        }
        return new controller.type()[controller.callback](rpc.parameters);
    }
}
exports.default = Router;
//# sourceMappingURL=router.js.map