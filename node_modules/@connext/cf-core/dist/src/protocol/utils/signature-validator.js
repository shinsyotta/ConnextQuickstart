"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const utils_1 = require("ethers/utils");
function assertIsValidSignature(expectedSigner, commitment, signature) {
    if (commitment === undefined) {
        throw Error("assertIsValidSignature received an undefined commitment");
    }
    if (signature === undefined) {
        throw Error("assertIsValidSignature received an undefined signature");
    }
    const signer = utils_1.recoverAddress(commitment.hashToSign(), signature);
    if (utils_1.getAddress(expectedSigner) !== signer) {
        throw Error(`Validating a signature with expected signer ${expectedSigner} but recovered ${signer} for commitment hash ${commitment.hashToSign()}.`);
    }
}
exports.assertIsValidSignature = assertIsValidSignature;
//# sourceMappingURL=signature-validator.js.map